(()=>{"use strict";const e=document.querySelector(".menu__icon"),t=document.querySelector(".header__menu"),n=document.querySelector(".shadow"),c=document.querySelector(".popup"),i=document.body;let o=!0;const s=800;function r(e){const t=e.length;if(e.length>0)for(let n=0;n<t;n++)e[n].addEventListener("click",(function(e){l(e)}))}function l(e){!async function(e){const t=await fetch("files/pets.json"),n=await t.json(),c=n.length,i=e.target.closest(".card").querySelector(".card__title").textContent;for(let e=0;e<c;e++)n[e].name===i&&a(n[e])}(e),o&&function(){const e=window.innerWidth-document.querySelector(".main-wrapper").offsetWidth+"px";i.style.paddingRight=e,i.classList.add("locked"),o=!1,setTimeout((function(){o=!0}),s)}(),c.classList.add("open"),document.body.addEventListener("click",(function(e){(e.target.classList.contains("popup__body")||e.target.classList.contains("popup__close"))&&o&&(c.classList.remove("open"),setTimeout((function(){i.style.paddingRight="0px",i.classList.remove("locked")}),s),o=!1,setTimeout((function(){o=!0}),s))}))}function a(e){const t=document.querySelector(".pet-img"),n=document.querySelector(".popup__title"),c=document.querySelector(".popup__subtitle"),i=document.querySelector(".popup__desctiption"),o=document.querySelector(".age"),s=document.querySelector(".inoculations"),r=document.querySelector(".diseases"),l=document.querySelector(".parasites");document.querySelector(".popup__content"),n.textContent=e.name,t.src=e.img,c.textContent=`${e.type} - ${e.breed}`,i.textContent=e.description,o.textContent=e.age,s.textContent=e.inoculations.join(", "),r.textContent=e.diseases.join(", "),l.textContent=e.parasites.join(", ")}if("/index.html"===window.location.pathname){let u=document.querySelector(".btn-left"),m=document.querySelector(".btn-right");const f=document.querySelector(".carousel");let L=[],v=[],p=[],g=[],h=0,y=0;function S(){let e=k();if(v=q(e),p=q(e),g=q(e),!_(p,v))for(;!_(p,v);)v=q(k());if(!_(p,g))for(;!_(p,g);)g=q(k());L=[v,p,g]}function q(e){let t,n=0,c=[];for(;n!=e;)t=Math.floor(8*Math.random()),c.includes(t)||(c.push(t),n++);return c}function _(e,t){if(0==t.length||null==t)return!0;const n=e.length;for(let c=0;c<n;c++)if(t.includes(e[c]))return!1;return!0}function k(){let e=window.innerWidth;return e>979?3:e>719?2:1}function w(){const e=document.querySelector(".item-right");if(e.innerHTML="",f.classList.add("transition-right"),u.removeEventListener("click",E),m.removeEventListener("click",w),!y&&h)b();else{if(v=[],v=p,p=[],p=g,!_(g,p))for(;!_(g,p);)g=q(k());for(let t=0;t<k();t++)T(M(),e,g[t])}}function E(){const e=document.querySelector(".item-left");if(e.innerHTML="",f.classList.add("transition-left"),u.removeEventListener("click",E),m.removeEventListener("click",w),!h&&y)A();else{if(g=[],g=p,p=[],p=v,!_(v,p))for(;!_(v,p);)v=q(k());for(let t=0;t<k();t++)T(M(),e,p[t])}}function A(){const e=document.querySelector(".item-left");let t=v;if(v=p,p=t,!_(g,p))for(;!_(g,p);)g=q(k());for(let t=0;t<3;t++)T(M(),e,g[t])}function b(){const e=document.querySelector(".item-left");let t=g;for(g=p,p=t,v=[];!_(v,p)&&!_(v,g);)v=q(k());for(let t=0;t<3;t++)T(M(),e,v[t])}function C(){u&&m&&(u.addEventListener("click",E),m.addEventListener("click",w)),window.innerWidth<=460&&(u=document.querySelector(".left"),m=document.querySelector(".right"),u.addEventListener("click",E),m.addEventListener("click",w))}function M(){const e=document.createElement("div");return e.classList.add("card"),e}function x(){let e=k();L=[v,p,g];for(let t=0;t<3;t++){const n=document.createElement("div");switch(n.classList.add("cards"),t){case 0:n.classList.add("item-left");break;case 1:n.classList.add("item-active");break;case 2:n.classList.add("item-right")}for(let c=0;c<e;c++){let e=L[t];T(M(),n,e[c])}f.appendChild(n)}}async function T(e,t,n){const c=await fetch("files/pets.json"),i=await c.json();e.innerHTML=`\n                        <div class="card__figure">\n                            <img src=${i[n].img} alt="animal-3" class="card-img">\n                        </div>\n                        <div class="card__body">\n                            <div class="card__title">${i[n].name}</div>\n                            <a href="#" class="card__button">Learn more</a>\n                        </div>\n                        `,e.classList.add("popup-link"),t.appendChild(e),r(document.querySelectorAll(".popup-link"))}S(),C(),f.addEventListener("animationend",(e=>{const t=document.querySelector(".item-left"),n=document.querySelector(".item-right");"moveL"===e.animationName?(f.classList.remove("transition-left"),document.querySelector(".item-active").innerHTML=t.innerHTML):(f.classList.remove("transition-right"),document.querySelector(".item-active").innerHTML=n.innerHTML),r(document.querySelectorAll(".popup-link")),u.addEventListener("click",E),m.addEventListener("click",w)})),window.addEventListener("resize",(e=>{window.innerWidth<=460&&(u=document.querySelector(".left"),m=document.querySelector(".right"),C())})),x(),console.log("Привет, я не все успел сделать и если ты проверяшь в первые дни, то дай мне дня 2 и я, если осилю, то доделаю все, спасибо!")}if("/pets.html"===window.location.pathname){let H,j,W,I=document.querySelector(".left-max"),$=document.querySelector(".left-one"),R=document.querySelector(".number"),B=document.querySelector(".right-one"),P=document.querySelector(".right-max"),U=[],z=[],G=[],J=1;function N(e){let t=e.length,n=0;for(let c=0;c<t;c++)n=Math.floor(Math.random()*(c+1)),[e[c],e[n]]=[e[n],e[c]];return e}function Q(){for(let e=0;e<6;e++)z.forEach((e=>{G.push(...N(e))}))}function V(){let e=0,t=0;for(;8!=e;)t=Math.floor(8*Math.random()),U.includes(t)||(U.push(t),e++);for(let e=0;e<8;e++)e%3==0&&0!=e?z.push(U.slice(e-3,e)):7==e&&z.push(U.slice(e-1,e+1));Q(),H=48/X(),console.log(G)}function X(){let e=window.innerWidth;return e>768?6:e>585?8:16}function Y(){I.addEventListener("click",(function(e){J=1,R.textContent=J,I.classList.contains("unactive")||(Z(),R.textContent=J,$.classList.add("unactive"),I.classList.add("unactive")),I.classList.contains("unactive")&&(B.classList.remove("unactive"),P.classList.remove("unactive"))})),$.addEventListener("click",(function(e){J>1&&(J--,K(),R.textContent=J,B.classList.remove("unactive"),P.classList.remove("unactive")),1==J&&($.classList.add("unactive"),I.classList.add("unactive"))})),B.addEventListener("click",(function(e){J!=X()&&(J++,F(),R.textContent=J),J==X()&&(B.classList.add("unactive"),P.classList.add("unactive")),1!=J&&($.classList.remove("unactive"),I.classList.remove("unactive"))})),P.addEventListener("click",(function(e){J=X(),P.classList.contains("unactive")||(O(),R.textContent=J,B.classList.add("unactive"),P.classList.add("unactive")),I.classList.contains("unactive")&&($.classList.remove("unactive"),I.classList.remove("unactive"))})),D()}function D(){let e=document.querySelector(".cards"),t=48/X(),n=G.slice(0,t);e.innerHTML="";for(let c=0;c<t;c++)ee(e,n[c])}function F(){let e=document.querySelector(".cards"),t=48/X();j=G.slice(H,H+t),H+=t,W="right",e.innerHTML="";for(let n=0;n<t;n++)ee(e,j[n])}function K(){let e=document.querySelector(".cards"),t=48/X();"right"==W&&H-t>0?(H-=t,j=G.slice(H-t,H)):(W="left",j=G.slice(H-t,H),H-=t),e.innerHTML="";for(let n=0;n<t;n++)ee(e,j[n])}function O(){let e=document.querySelector(".cards"),t=48/X();j=G.slice(G.length-t,G.length),H=G.length-t,e.innerHTML="";for(let n=0;n<t;n++)ee(e,j[n])}function Z(){let e=document.querySelector(".cards"),t=48/X();j=G.slice(0,t),H=t,e.innerHTML="";for(let n=0;n<t;n++)ee(e,j[n])}async function ee(e,t){const n=await fetch("files/pets.json"),c=await n.json();let i=document.createElement("div");i.classList.add("card"),i.innerHTML=`\n                        <div class="card__figure">\n                            <img src=${c[t].img} alt="animal-3" class="card-img">\n                        </div>\n                        <div class="card__body">\n                            <div class="card__title">${c[t].name}</div>\n                            <a href="#" class="card__button">Learn more</a>\n                        </div>\n                        `,i.classList.add("popup-link"),e.appendChild(i),r(document.querySelectorAll(".popup-link"))}V(),Y()}let d=document.querySelectorAll(".popup-link");window.addEventListener("click",(function(c){c.target.classList.contains("menu__line")&&function(e,t){e.classList.toggle("active"),t.classList.toggle("active"),document.body.classList.toggle("lock"),n.classList.toggle("active")}(e,t),document.body.addEventListener("click",(function(c){!c.target.classList.contains("header-nav__link")&&c.target.classList.contains("header__menu")||function(e,t){e.classList.remove("active"),t.classList.remove("active"),document.body.classList.remove("lock"),n.classList.remove("active")}(e,t)}))})),r(d),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();