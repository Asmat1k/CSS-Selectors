(()=>{"use strict";const e=document.querySelector(".menu__icon"),t=document.querySelector(".header__menu"),n=document.querySelector(".shadow"),o=document.querySelector(".popup"),c=document.body;let i=!0;const s=800;function r(e){const t=e.length;if(e.length>0)for(let n=0;n<t;n++)e[n].addEventListener("click",(function(e){l(e)}))}function l(e){!async function(e){const t=await fetch("files/pets.json"),n=await t.json(),o=n.length,c=e.target.closest(".card").querySelector(".card__title").textContent;for(let e=0;e<o;e++)n[e].name===c&&a(n[e])}(e),i&&function(){const e=window.innerWidth-document.querySelector(".main-wrapper").offsetWidth+"px";c.style.paddingRight=e,c.classList.add("locked"),i=!1,setTimeout((function(){i=!0}),s)}(),o.classList.add("open"),document.body.addEventListener("click",(function(e){(e.target.classList.contains("popup__body")||e.target.classList.contains("popup__close"))&&i&&(o.classList.remove("open"),setTimeout((function(){c.style.paddingRight="0px",c.classList.remove("locked")}),s),i=!1,setTimeout((function(){i=!0}),s))}))}function a(e){const t=document.querySelector(".pet-img"),n=document.querySelector(".popup__title"),o=document.querySelector(".popup__subtitle"),c=document.querySelector(".popup__desctiption"),i=document.querySelector(".age"),s=document.querySelector(".inoculations"),r=document.querySelector(".diseases"),l=document.querySelector(".parasites");document.querySelector(".popup__content"),n.textContent=e.name,t.src=e.img,o.textContent=`${e.type} - ${e.breed}`,c.textContent=e.description,i.textContent=e.age,s.textContent=e.inoculations.join(", "),r.textContent=e.diseases.join(", "),l.textContent=e.parasites.join(", ")}const d=document.querySelector(".btn-left"),u=document.querySelector(".btn-right"),m=document.querySelector(".carousel");let f,p=[],L=[],g=[],v=0;function y(){const e=document.querySelector(".item-active").querySelectorAll(".card");p=[];for(let t=0;t<e.length;t++)p.push(e[t].querySelector(".card__title").textContent);console.log(p),console.log(f),console.log(v)}function _(e){let t,n=0,o=[];for(;n!=e;)t=Math.floor(8*Math.random()),o.includes(t)||(o.push(t),n++);return o}function h(e,t){if(0==t.length)return!0;const n=e.length;for(let o=0;o<n;o++)if(t.includes(e[o]))return!1;return!0}function S(){let e=window.innerWidth;return e>979?3:e>719?2:1}function q(){f="left",v++,y(),m.classList.add("transition-left"),d.removeEventListener("click",q),u.removeEventListener("click",k)}function k(){f="right",v++,y(),m.classList.add("transition-right"),d.removeEventListener("click",q),u.removeEventListener("click",k)}function A(){const e=document.createElement("div");return e.classList.add("card"),e}async function b(e,t,n){const o=await fetch("files/pets.json"),c=await o.json();e.innerHTML=`\n                    <div class="card__figure">\n                        <img src=${c[n].img} alt="animal-3" class="card-img">\n                    </div>\n                    <div class="card__body">\n                        <div class="card__title">${c[n].name}</div>\n                        <a href="#" class="card__button">Learn more</a>\n                    </div>\n                    `,e.classList.add("popup-link"),t.appendChild(e),r(document.querySelectorAll(".popup-link"))}m.addEventListener("animationend",(e=>{const t=document.querySelector(".item-left"),n=document.querySelector(".item-right");let o;if("moveL"===e.animationName?(m.classList.remove("transition-left"),o=t,document.querySelector(".item-active").innerHTML=t.innerHTML):(m.classList.remove("transition-right"),o=n,document.querySelector(".item-active").innerHTML=n.innerHTML),o.innerHTML="",L=_(S()),!h(L,g))for(;!h(L,g);)L=_(S());g=L;let c=S();for(let e=0;e<c;e++)b(A(),o,L[e]);r(document.querySelectorAll(".popup-link")),d.addEventListener("click",q),u.addEventListener("click",k)})),function(){let e=S();for(let t=0;t<3;t++){if(L=_(S()),!h(L,g))for(;!h(L,g);)L=_(S());const n=document.createElement("div");switch(n.classList.add("cards"),t){case 0:n.classList.add("item-left");break;case 1:n.classList.add("item-active");break;case 2:n.classList.add("item-right")}for(let t=0;t<e;t++)b(A(),n,L[t]);m.appendChild(n),g=L}}();let w=document.querySelectorAll(".popup-link");window.addEventListener("click",(function(o){o.target.classList.contains("menu__line")&&function(e,t){e.classList.toggle("active"),t.classList.toggle("active"),document.body.classList.toggle("lock"),n.classList.toggle("active")}(e,t),document.body.addEventListener("click",(function(o){!o.target.classList.contains("header-nav__link")&&o.target.classList.contains("header__menu")||function(e,t){e.classList.remove("active"),t.classList.remove("active"),document.body.classList.remove("lock"),n.classList.remove("active")}(e,t)}))})),d&&u&&(d.addEventListener("click",q),u.addEventListener("click",k)),r(w),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();